(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(t,e,c){},52:function(t,e,c){},53:function(t,e,c){"use strict";c.r(e);var n=c(2),a=c.n(n),s=c(18),r=c.n(s),o=(c(24),c(5)),i=c(6),j=c.n(i),u=c(3),l=c(0),b=function(t){var e=t.authorId,c=t.successCallback,n=t.click;return Object(l.jsx)("button",{onClick:function(){c(e)},children:n})},h=function(t){var e=t.authors,c=Object(n.useState)(e),a=Object(o.a)(c,2),s=a[0],r=a[1],i=function(t){j.a.delete("http://localhost:8000/api/authors/"+t).then((function(e){r(s.filter((function(e){return e._id!==t})))}))},h=function(t){Object(u.c)("/edit/"+t)};return Object(l.jsx)("div",{children:Object(l.jsxs)("table",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Author Name"}),Object(l.jsx)("th",{children:"Action Avalabel"})]}),s.map((function(t,e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.name}),Object(l.jsxs)("td",{children:[Object(l.jsx)(b,{click:"Delete",successCallback:i,authorId:t._id}),Object(l.jsx)(b,{click:"edit",successCallback:h,authorId:t._id})]})]})})}))]})})},O=function(t){var e=t.initialName,c=t.onSubmitProp,a=t.errors,s=t.text,r=Object(n.useState)(e),i=Object(o.a)(r,2),j=i[0],u=i[1];Object(n.useEffect)((function(){u(e),console.log("$$$$$$$$$$$$$$$$$$$",j)}),[j]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:s}),a.map((function(t,e){return Object(l.jsx)("p",{children:t},e)})),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c({name:j})},children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("label",{children:"Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",name:"Name",value:e,onChange:function(t){u(t.target.value)}})]}),Object(l.jsx)("input",{type:"submit"})]})]})},d=function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),c=e[0],a=e[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],b=r[1];return Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/authors").then((function(t){a(t.data),b(!0)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(u.a,{to:"/new",children:"Add an author"}),Object(l.jsx)("h3",{children:"We Have quotes by :"}),i&&Object(l.jsx)(h,{authors:c})]})},f=function(t){var e=t.id,c=Object(n.useState)(""),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)([]),b=Object(o.a)(i,2),h=b[0],d=b[1];Object(n.useEffect)((function(){j.a.get("http://localhost:8000/api/authors/"+e).then((function(t){r(t.data.name),console.log("#############",t.data.name,s)}))}),[s]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u.a,{to:"/",children:"Home"}),Object(l.jsx)(O,{initialName:s,onSubmitProp:function(t){console.log(t),j.a.put("http://localhost:8000/api/authors/"+e,t).then((function(t){return Object(u.c)("/")})).catch((function(t){for(var e=t.response.data.errors,c=[],n=0,a=Object.keys(e);n<a.length;n++){var s=a[n];c.push(e[s].message)}c.length>0||console.log(c.length),d(c)})),console.log("#######",h)},errors:h,text:"update"})]})},x=function(t){var e=Object(n.useState)([]),c=Object(o.a)(e,2),a=c[0],s=c[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u.a,{to:"/",children:"Home"}),Object(l.jsx)(O,{initialName:"",onSubmitProp:function(t){s([]),console.log(t),j.a.post("http://localhost:8000/api/authors",t).then((function(t){return Object(u.c)("/")})).catch((function(t){for(var e=t.response.data.errors,c=[],n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];c.push(e[r].message)}c.length>0||console.log(c.length),s(c)}))},errors:a,text:"add new authour"})]})};c(52);var p=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Favorite authors"}),Object(l.jsxs)(u.b,{children:[Object(l.jsx)(d,{path:"/"}),Object(l.jsx)(x,{path:"/new"}),Object(l.jsx)(f,{path:"/edit/:id"})]})]})},m=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),s(t),r(t)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root")),m()}},[[53,1,2]]]);
//# sourceMappingURL=main.ce07db42.chunk.js.map